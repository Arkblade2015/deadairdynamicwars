<?xml version="1.0" encoding="utf-8"?>
<mdscript name="DWSsetup" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="md.xsd">
	<cues>
	
		<cue name="Dynamic_War_Initial_Setup" module="x4ep1_gamestart_DWS">
			<conditions>
				<event_cue_signalled cue="md.Setup.GameStart"/>
			</conditions>
			<actions>
				<debug_to_file name="'DWS'" directory="'DWS'" text="' '" output="false" append="true" />
				<debug_to_file name="'DWS'" directory="'DWS'" text="' '" output="false" append="true" />
				<debug_to_file name="'DWS'" directory="'DWS'" text="' '" output="false" append="true" />
				<debug_to_file name="'DWS'" directory="'DWS'" text="'Initial Setup'" output="false" append="true" />

				<debug_to_file name="'DWS'" directory="'DWS'" text="'Discovering Factions'" output="false" append="true" />
				<set_faction_known faction="faction.alliance" known="true" />
				<set_faction_known faction="faction.antigone" known="true" />
				<set_faction_known faction="faction.argon" known="true" />
				<set_faction_known faction="faction.hatikvah" known="true" />
				<set_faction_known faction="faction.holyorder" known="true" />
				<set_faction_known faction="faction.khaak" known="true" />
				<set_faction_known faction="faction.ministry" known="true"/>
				<set_faction_known faction="faction.paranid" known="true"/>
				<set_faction_known faction="faction.scaleplate" known="true" />
				<set_faction_known faction="faction.teladi" known="true" />
				<set_faction_known faction="faction.xenon" known="true" />

				<debug_to_file name="'DWS'" directory="'DWS'" text="'Setting Relations'" output="false" append="true" />
				<set_faction_relation faction="faction.player" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.player" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.alliance" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.alliance" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.paranid" value="0.9"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.alliance" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.antigone" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.antigone" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.argon" value="0.9"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.hatikvah" value="0.9"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.antigone" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.argon" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.argon" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.antigone" value="0.9"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.hatikvah" value="0.9"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.argon" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.antigone" value="0.9"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.argon" value="0.9"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.hatikvah" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.holyorder" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.ministry" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.ministry" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.scaleplate" value="0.9"/>
				<set_faction_relation faction="faction.ministry" otherfaction="faction.teladi" value="0.9"/>
				
				<set_faction_relation faction="faction.paranid" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.paranid" otherfaction="faction.alliance" value="0.9"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.ministry" value="0.0"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.scaleplate" value="0.0"/>
				<set_faction_relation faction="faction.paranid" otherfaction="faction.teladi" value="0.0"/>
				
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.player" value="0.0"/>

				<set_faction_relation faction="faction.teladi" otherfaction="faction.player" value="0.0"/>
				
				<set_faction_relation faction="faction.teladi" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.ministry" value="0.9"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.teladi" otherfaction="faction.scaleplate" value="0.9"/>
				
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.alliance" value="0.0"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.antigone" value="0.0"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.argon" value="0.0"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.hatikvah" value="0.0"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.holyorder" value="0.0"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.ministry" value="0.9"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.paranid" value="0.0"/>
				<set_faction_relation faction="faction.scaleplate" otherfaction="faction.teladi" value="0.9"/>


				<signal_cue cue="Dynamic_War_Ship_Setup" />

				<debug_to_file name="'DWS'" directory="'DWS'" text="'Initial Setup Done'" output="false" append="true" />
			</actions>
		</cue>
	
		<cue name="Dynamic_War_Ship_Setup" module="x4ep1_gamestart_DWS">
			<conditions>
				<event_cue_signalled/>
			</conditions>
			<actions>
				<debug_to_file name="'DWS'" directory="'DWS'" text="' '" output="false" append="true" />
				<debug_to_file name="'DWS'" directory="'DWS'" text="'Ship Setup'" output="false" append="true" />

				<!-- Add Pilot to Player Ship -->
				<find_ship name="$PlayerShip" owner="faction.player" space="player.zone" multiple="false" />
				<create_control_entity name="$NewPilot" object="$PlayerShip" post="controlpost.aipilot" >
					<select race="[race.argon]" tags="tag.aipilot"/>
					<owner exact="faction.player"/>
				</create_control_entity>
				
				<set_skill entity="$NewPilot" type="skilltype.piloting" exact="10" />
				<set_skill entity="$NewPilot" type="skilltype.engineering" exact="5" />
				
				<!-- Create 2 Fighters -->
				<generate_loadout macro="macro.ship_arg_s_scout_01_a_macro" faction="faction.argon" 
						wares="[ware.software_flightassistmk1, ware.software_dockmk2, ware.software_scannerlongrangemk2, ware.software_scannerobjectmk2, ware.software_targetmk1, ware.software_trademk1, 
								ware.engine_arg_s_combat_01_mk3, ware.weapon_gen_s_gatling_01_mk1, ware.shield_arg_s_standard_01_mk3, ware.thruster_gen_s_allround_01_mk3]" 
						level="1" result="$loadout" />
				<do_all exact="2" counter="$i">
					<create_ship name="$NewShip" macro="ship_arg_s_scout_01_a_macro" zone="player.zone">
						<owner exact="faction.player" overridenpc="true" />
						<loadout loadout="$loadout.{1}" />
						<ammo>
							<macro ref="macro.eq_arg_satellite_02_macro">
								<fillamount exact="100"/>
							</macro>
						</ammo>
						<pilot>
							<select faction="faction.argon" tags="tag.aipilot"/>
						</pilot>
						<people>
							<fillpercent exact="100" />
							<person role="service" weight="75">
								<select faction="faction.argon" tags="tag.crew"/>
							</person>
							<person role="marine" weight="25">
								<select faction="faction.argon" tags="tag.marine"/>
							</person>
						</people>
						<safepos object="player.ship" radius="1km" min="1km" max="7km"/>
					</create_ship>
					<set_skill entity="$NewShip.pilot" type="skilltype.piloting" exact="10" />
					<set_skill entity="$NewShip.pilot" type="skilltype.engineering" exact="5" />
				</do_all>
				<remove_value name="$loadout" />
				
				<!-- Create 1 Builder -->
				<generate_loadout macro="macro.ship_arg_xl_builder_01_a_macro" faction="faction.argon" 
						wares="[ware.software_flightassistmk1, ware.software_dockmk2, ware.software_scannerlongrangemk2, ware.software_scannerobjectmk2, ware.software_targetmk1, ware.software_trademk1, 
								ware.engine_arg_xl_allround_01_mk1, ware.shield_arg_m_standard_02_mk2, ware.thruster_gen_xl_allround_01_mk3, ware.shield_arg_xl_standard_01_mk1, ware.turret_arg_m_beam_02_mk1]" 
						level="1" result="$loadout" />
				<create_ship name="$NewShip" macro="ship_arg_xl_builder_01_a_macro" zone="player.zone">
					<owner exact="faction.player" overridenpc="true" />
					<loadout loadout="$loadout.{1}" />
					<pilot>
						<select faction="faction.argon" tags="tag.aipilot"/>
					</pilot>
					<people>
						<fillpercent exact="100" />
						<person role="service" weight="75">
							<select faction="faction.argon" tags="tag.crew"/>
						</person>
						<person role="marine" weight="25">
							<select faction="faction.argon" tags="tag.marine"/>
						</person>
					</people>
					<units>
						<unit category="unitcategory.build" exact="50" />
						<unit category="unitcategory.defence" exact="10" />
						<unit category="unitcategory.repair" exact="20" />
						<unit category="unitcategory.transport" exact="20" />
					</units>
					<safepos object="player.ship" radius="2km" min="2km" max="9km"/>
				</create_ship>
				<set_skill entity="$NewShip.pilot" type="skilltype.piloting" exact="10" />
				<set_skill entity="$NewShip.pilot" type="skilltype.engineering" exact="5" />
				
				<debug_to_file name="'DWS'" directory="'DWS'" text="'Ship Setup Done'" output="false" append="true" />
			</actions>
		</cue>
	</cues>
</mdscript>